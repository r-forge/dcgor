<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>dcAlgoPredict @ dcGOR 1.0.4</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">


<style type="text/css">

.navbar .brand {
  display: block;
  float: left;
  padding: 8px 20px 12px;
  margin-left: -20px;
  font-size: 20px;
  font-weight: 200;
  line-height: 1;
  color: #999999;
}

.navbar .brand:hover {
  color: #F87217;
  text-decoration: none;
  background-color: transparent;
}

.navbar .nav > li > a:hover {
  color: #F87217;
  text-decoration: underline;
  background-color: transparent;
}

</style>


<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17338744-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Enlarge image -->
<script type="text/javascript">
    function newWin(url, name, width, height) { 
       
        var left = (screen.width/2)-(width/2);
        var top = (screen.height/2)-(height/2); 
        
        window.open(url,name,'scrollbars=yes,resizable=yes,fullscreen=yes, width=' + width + ', height='+height+', top='+top+', left='+left);
    }
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">dcGOR 1.0.4</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Home</a></li>
        </ul>
        <ul class="nav">
          <li><a href="install.html"><i class="icon-wrench icon-white"></i> Installation</a></li>
        </ul>
        <ul class="nav">
          <li><a href="docs.html"><i class="icon-book icon-white"></i> Documentations</a></li>
        </ul>
        <ul class="nav">
          <li><a href="demos.html"><i class="icon-play icon-white"></i> Demos</a></li>
        </ul>
        <ul class="nav">
          <li><a href="cite.html"><i class="icon-pencil icon-white"></i> Citation</a></li>
        </ul>
       
        <!-- HTML for GOOLE SEARCH BAR 
        <ul class="nav">
            <div id="search-wrapper">
                <form id="search" method="get" action="http://www.google.com/custom">
                    <div class="search-box">
                        <i class="icon-search icon-white"></i>
                        <input type="text" id="tfq" class="textinput" name="q" size="21" maxlength="120" value="Google Search"/>
                    </div>
                </form>
            </div>
        </ul>
        -->
        
      </div>
    </div>
  </div>
</div>

<!-- CSS styles for standard search box with placeholder text-->
<style type="text/css">
    #search-wrapper {
        width:300px;
        height:40px;
        background-color:transparent;
        margin:0px auto 0;
        border:0px solid #ff0000;
        -moz-border-radius: 2px; /* FF1+ */
        -webkit-border-radius: 2px; /* Saf3-4 */
        border-radius: 2px; /* Opera 10.5, IE 9, Saf5, Chrome */
        position:relative;
    }

    #search {
        background-color:transparent;
        padding:0px;
        height:40px;
        overflow:hidden;
    }

    .search-box {
        width:250px;
        height:32px;
        background-color:transparent;
        margin:2px 7px;
        border:0px solid #cfcfcf;
        -moz-border-radius: 2px; /* FF1+ */
        -webkit-border-radius: 2px; /* Saf3-4 */
        border-radius: 2px; /* Opera 10.5, IE 9, Saf5, Chrome */
        position:relative;
    }

	.textinput{
		margin: 0;
		padding: 5px 15px;
		font-family: Arial, Helvetica, sans-serif;
		font-size:14px;
		color:#999999;
		border:1px solid #f00; border-right:0px;
		border-top-left-radius: 5px 5px;
		border-bottom-left-radius: 5px 5px;
	}
</style>

<!-- JAVASCRIPT to clear search text when the field is clicked -->
<script type="text/javascript">
window.onload = function(){
	//Get submit button
	var submitbutton = document.getElementById("tfq");
	//Add listener to submit button
	if(submitbutton.addEventListener){
		submitbutton.addEventListener("click", function() {
			if (submitbutton.value == 'Google Search'){//Customize this text string to whatever you want
				submitbutton.value = 'dcGOR R ';
			}
		});
	}
}
</script>

<script>
  (function() {
    var cx = '012094530736424854714:k8ieyz4ag4a';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

<div><gcse:search></gcse:search></div>

    <div class="container">
      <header>
        
      </header>
      
      <h2>Function to predict ontology terms given domain architectures (including individual domains)</h2>

<div class="row">
  <div class="span8">
  
    <h3>Description</h3>
    <p><code>dcAlgoPredict</code> is supposed to predict ontology terms given domain
architectures (including individual domains). It involves 3 steps: 1)
splitting an architecture into individual domains and all possible
consecutive domain combinations (viewed as component features); 2)
merging hscores among component features; 3) scaling merged hscores
into predictive scores across terms.</p>
  
    <h3>Usage</h3>
    <pre>dcAlgoPredict(data, RData.HIS = c("Feature2GOBP.sf", "Feature2GOMF.sf", "Feature2GOCC.sf", 
  "Feature2HPPA.sf", "Feature2GOBP.pfam", "Feature2GOMF.pfam", "Feature2GOCC.pfam", 
      "Feature2HPPA.pfam", "Feature2GOBP.interpro", "Feature2GOMF.interpro", "Feature2GOCC.interpro", 
      "Feature2HPPA.interpro"), merge.method = c("sum", "max", "sequential"), scale.method = c("log", 
      "linear", "none"), feature.mode = c("supradomains", "domains"), slim.level = NULL, 
      parallel = TRUE, multicores = NULL, verbose = T, RData.location = "http://dcgor.r-forge.r-project.org/data")</pre>
    
    <h3>Arguments</h3>
    <dl>
      <dt>data</dt>
      <dd>an input data vector containing domain architectures. An
architecture is represented in the form of comma-separated domains</dd>
      <dt>RData.HIS</dt>
      <dd>RData to load. This RData conveys two bits of
information: 1) feature (domain) type; 2) ontology. It stores the
hypergeometric scores (hscore) between features (individual domains or
consecutive domain combinations) and ontology terms. The RData name
tells which domain type and which ontology to use. It can be: SCOP sf
domains/combinations (including "Feature2GOBP.sf", "Feature2GOMF.sf",
"Feature2GOCC.sf", "Feature2HPPA.sf"), Pfam domains/combinations
(including "Feature2GOBP.pfam", "Feature2GOMF.pfam",
"Feature2GOCC.pfam", "Feature2HPPA.pfam"), InterPro domains (including
"Feature2GOBP.interpro", "Feature2GOMF.interpro",
"Feature2GOCC.interpro", "Feature2HPPA.interpro")</dd>
      <dt>merge.method</dt>
      <dd>the method used to merge predictions for each
component feature (individual domains and their combinations derived
from domain architecture). It can be one of "sum" for summing up, "max"
for the maximum, and "sequential" for the sequential weighting. The
sequential weighting is done via: <code class = 'eq'>\sum_{i=1}{\frac{R_{i}}{i}}</code>,
where <code class = 'eq'>R_{i}</code> is the <code class = 'eq'>i^{th}</code> ranked highest hscore</dd>
      <dt>scale.method</dt>
      <dd>the method used to scale the predictive scores. It
can be: "none" for no scaling, "linear" for being linearily scaled into
the range between 0 and 1, "log" for the same as "linear" but being
first log-transformed before being scaled. The scaling between 0 and 1
is done via: <code class = 'eq'>\frac{S - S_{min}}{S_{max} - S_{min}}</code>, where
<code class = 'eq'>S_{min}</code> and <code class = 'eq'>S_{max}</code> are the minimum and maximum values for
<code class = 'eq'>S</code></dd>
      <dt>feature.mode</dt>
      <dd>the mode of how to use the features thereof. It can
be: "supradomains" for using all possible domain combinations (ie
supradomains; including individual domains), "domains" for using
individual domains only</dd>
      <dt>slim.level</dt>
      <dd>whether only slim terms are returned. By defaut, it
is NULL and all predicted terms will be reported. If it is specified as
a vector containing any values from 1 to 4, then only slim terms at
these levels will be reported. Here is the meaning of these values: '1'
for very general terms, '2' for general terms, '3' for specific terms,
and '4' for very specific terms</dd>
      <dt>parallel</dt>
      <dd>logical to indicate whether parallel computation with
multicores is used. By default, it sets to true, but not necessarily
does so. Partly because parallel backends available will be
system-specific (now only Linux or Mac OS). Also, it will depend on
whether these two packages "foreach" and "doMC" have been installed. It
can be installed via:
<code>source("http://bioconductor.org/biocLite.R");
biocLite(c("foreach","doMC"))</code>. If not yet installed, this option will
be disabled</dd>
      <dt>multicores</dt>
      <dd>an integer to specify how many cores will be
registered as the multicore parallel backend to the 'foreach' package.
If NULL, it will use a half of cores available in a user's computer.
This option only works when parallel computation is enabled</dd>
      <dt>verbose</dt>
      <dd>logical to indicate whether the messages will be
displayed in the screen. By default, it sets to TRUE for display</dd>
      <dt>RData.location</dt>
      <dd>the characters to tell the location of built-in
RData files. By default, it remotely locates at
"http://supfam.org/dcGOR/data" or
"http://dcgor.r-forge.r-project.org/data". For the user equipped with
fast internet connection, this option can be just left as default. But
it is always advisable to download these files locally. Especially when
the user needs to run this function many times, there is no need to ask
the function to remotely download every time (also it will
unnecessarily increase the runtime). For examples, these files (as a
whole or part of them) can be first downloaded into your current
working directory, and then set this option as:
<code class = 'eq'>RData.location="."</code>. If RData to load is already part of package
itself, this parameter can be ignored (since this function will try to
load it via function <code>data</code> first)</dd>
    </dl>
    <!-- 
    -->
    
    <!-- 
    <div class="Value">
    -->
      <h3>Value</h3>
      
      <p>a named list of architectures, each containing predictive scores</p>
    <!-- 
    </div>
    -->
    <!-- 
    <div class="Note">
    -->
      <h3>Note</h3>
      
      <p>none</p>
    <!-- 
    </div>
    -->
    
    <h3 id="examples">Examples</h3>
    <pre class="examples"><div class='input'># 1) randomly generate 5 domains and/or domain architectures
x <- dcRDataLoader(RData="Feature2GOMF.sf")
</div>
<strong class='message'>'Feature2GOMF.sf' (from http://dcgor.r-forge.r-project.org/data/Feature2GOMF.sf.RData) has been loaded into the working environment</strong>
<div class='input'>data <- sample(names(x$hscore), 5)

# 2) get predictive scores of all predicted terms for this domain architecture
## using 'sequential' method (by default)
pscore <- dcAlgoPredict(data=data, RData.HIS="Feature2GOMF.sf",
parallel=FALSE)
</div>
<strong class='message'>Start at 2014-10-28 17:46:16</strong>
<strong class='message'></strong>
<strong class='message'>'Feature2GOMF.sf' (from http://dcgor.r-forge.r-project.org/data/Feature2GOMF.sf.RData) has been loaded into the working environment</strong>
<strong class='message'>Predictions for 5 architectures using 'sum' merge method, 'log' scale method and 'supradomains' feature mode (2014-10-28 17:46:16)...</strong>
<strong class='message'>	1 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	2 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	3 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	4 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	5 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>
End at 2014-10-28 17:46:16</strong>
<strong class='message'>Runtime in total is: 0 secs
</strong>
<div class='input'>## using 'max' method
pscore_max <- dcAlgoPredict(data=data, RData.HIS="Feature2GOMF.sf",
merge.method="max", parallel=FALSE)
</div>
<strong class='message'>Start at 2014-10-28 17:46:16</strong>
<strong class='message'></strong>
<strong class='message'>'Feature2GOMF.sf' (from http://dcgor.r-forge.r-project.org/data/Feature2GOMF.sf.RData) has been loaded into the working environment</strong>
<strong class='message'>Predictions for 5 architectures using 'max' merge method, 'log' scale method and 'supradomains' feature mode (2014-10-28 17:46:16)...</strong>
<strong class='message'>	1 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	2 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	3 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	4 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>	5 out of 5 (2014-10-28 17:46:16)</strong>
<strong class='message'>
End at 2014-10-28 17:46:16</strong>
<strong class='message'>Runtime in total is: 0 secs
</strong>
<div class='input'>## using 'sum' method
pscore_sum <- dcAlgoPredict(data=data, RData.HIS="Feature2GOMF.sf",
merge.method="sum", parallel=FALSE)
</div>
<strong class='message'>Start at 2014-10-28 17:46:16</strong>
<strong class='message'></strong>
<strong class='message'>'Feature2GOMF.sf' (from http://dcgor.r-forge.r-project.org/data/Feature2GOMF.sf.RData) has been loaded into the working environment</strong>
<strong class='message'>Predictions for 5 architectures using 'sum' merge method, 'log' scale method and 'supradomains' feature mode (2014-10-28 17:46:17)...</strong>
<strong class='message'>	1 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	2 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	3 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	4 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	5 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>
End at 2014-10-28 17:46:17</strong>
<strong class='message'>Runtime in total is: 1 secs
</strong>
<div class='input'>
# 3) advanced usage
## a) focus on those terms at the 2nd level (general)
pscore <- dcAlgoPredict(data=data, RData.HIS="Feature2GOMF.sf",
slim.level=2, parallel=FALSE)
</div>
<strong class='message'>Start at 2014-10-28 17:46:17</strong>
<strong class='message'></strong>
<strong class='message'>'Feature2GOMF.sf' (from http://dcgor.r-forge.r-project.org/data/Feature2GOMF.sf.RData) has been loaded into the working environment</strong>
<strong class='message'>Predictions for 5 architectures using 'sum' merge method, 'log' scale method and 'supradomains' feature mode (2014-10-28 17:46:17)...</strong>
<strong class='message'>	1 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	2 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	3 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	4 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>	5 out of 5 (2014-10-28 17:46:17)</strong>
<strong class='message'>Focus on predicted terms at '2' slim level(s)</strong>
<strong class='message'>
End at 2014-10-28 17:46:17</strong>
<strong class='message'>Runtime in total is: 0 secs
</strong>
<div class='input'>## b) visualise predictive scores in the ontology hierarchy
### load the ontology
g <- dcRDataLoader("onto.GOMF", verbose=FALSE)
ig <- dcConverter(g, from='Onto', to='igraph', verbose=FALSE)
### do visualisation for the 1st architecture
data <- pscore[[1]]
subg <- dnet::dDAGinduce(ig, nodes_query=names(data),
path.mode="shortest_paths")
dnet::visDAG(g=subg, data=data, node.info="term_id")
</div>
<a href="javascript:newWin('dcAlgoPredict-53.png', 'dcAlgoPredict-53.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:1px solid #EEEEEE;box-shadow:5px 5px 2px #C0C0C0;" src='dcAlgoPredict-53.png', width="400" /></a></pre>
  </div>
  
  <div class="span4">
    
    <!-- 
    <ul>
      <li>dcAlgoPredict</li>
    </ul>
    <ul>
      
    </ul> 
    -->
    
    <h2>Source code</h2>
    <a href="javascript:newWin('R/dcAlgoPredict.r', 'R/dcAlgoPredict.r', '1200', '1200')" title="Click to view"><B><code>dcAlgoPredict.r</code></B></a>
    
    <h2>Source man</h2>
    <a href="javascript:newWin('man/dcAlgoPredict.txt', 'man/dcAlgoPredict.txt', '1200', '1200')" title="Click to view"><B><code>dcAlgoPredict.Rd</code></B></a>
    
    <a href="javascript:newWin('man/dcAlgoPredict.pdf', 'man/dcAlgoPredict.pdf', '1200', '1200')" title="Click to view"><B><code>dcAlgoPredict.pdf</code></B></a>
    
    <h2>See also</h2>
    
<code><a href='dcRDataLoader.html'>dcRDataLoader</a></code>, <code><a href='dcConverter.html'>dcConverter</a></code>,
<code><a href='dcAlgoPredictMain.html'>dcAlgoPredictMain</a></code>

    <!--

    <h2>Citation</h2>
    <p>Fang H. (2014) <B>dcGOR: an R package for analysing ontologies and protein domain annotations</B>. <I>PLoS Computational Biology</I> (<a href="http://dx.doi.org/10.1371/journal.pcbi.1003929">doi:10.1371/journal.pcbi.1003929</a>)</p>

<p>You may also cite the package as:</p>

<ul>
<li><code>database</code></li>
</ul>

<p>Fang H, Gough J. (2013) dcGO: database of domain-centric ontologies on functions, phenotypes, diseases and more. <I>Nucleic Acids Research</I> 41(Database issue):D536-44 (<a href="http://dx.doi.org/10.1093/nar/gks1080">doi:10.1093/nar/gks1080</a>)</p>

<ul>
<li><code>web link/URL</code></li>
</ul>

<p>Package &ldquo;dcGOR&rdquo; [<a href="http://cran.r-project.org/package=dcGOR">http://cran.r-project.org/package=dcGOR</a>]</p>

    
    
    <h2>URL</h2>
    <ul>
      <li><a href="http://dcgor.r-forge.r-project.org">http://dcgor.r-forge.r-project.org</a></li>
      <li><a href=" http://supfam.org/dcGOR"> http://supfam.org/dcGOR</a></li>
      <li><a href=" http://cran.r-project.org/package=dcGOR"> http://cran.r-project.org/package=dcGOR</a></li>
      <li><a href=" https://github.com/hfang-bristol/dcGOR"> https://github.com/hfang-bristol/dcGOR</a></li>
    </ul>
    
    
    -->
    
  </div>
  
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>

<p><a href="mailto:hfang@cs.bris.ac.uk" title="Hai Fang">Hai Fang</a></p>
<p><a href="http://bioinformatics.bris.ac.uk">Computational Genomics Group, Department of Computer Science, University of Bristol, UK</a></p>


      </footer>
    </div>
  </body>
</html>