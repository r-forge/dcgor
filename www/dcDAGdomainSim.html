<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>dcDAGdomainSim @ dcGOR 1.0.5</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">


<style type="text/css">

.navbar .brand {
  display: block;
  float: left;
  padding: 8px 20px 12px;
  margin-left: -20px;
  font-size: 20px;
  font-weight: 200;
  line-height: 1;
  color: #999999;
}

.navbar .brand:hover {
  color: #F87217;
  text-decoration: none;
  background-color: transparent;
}

.navbar .nav > li > a:hover {
  color: #F87217;
  text-decoration: underline;
  background-color: transparent;
}

</style>


<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17338744-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Enlarge image -->
<script type="text/javascript">
    function newWin(url, name, width, height) { 
       
        var left = (screen.width/2)-(width/2);
        var top = (screen.height/2)-(height/2); 
        
        window.open(url,name,'scrollbars=yes,resizable=yes,fullscreen=yes, width=' + width + ', height='+height+', top='+top+', left='+left);
    }
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">dcGOR 1.0.5</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Home</a></li>
        </ul>
        <ul class="nav">
          <li><a href="install.html"><i class="icon-wrench icon-white"></i> Installation</a></li>
        </ul>
        <ul class="nav">
          <li><a href="docs.html"><i class="icon-book icon-white"></i> Documentations</a></li>
        </ul>
        <ul class="nav">
          <li><a href="demos.html"><i class="icon-play icon-white"></i> Demos</a></li>
        </ul>
        <ul class="nav">
          <li><a href="cite.html"><i class="icon-pencil icon-white"></i> Citation</a></li>
        </ul>
       
        <!-- HTML for GOOLE SEARCH BAR 
        <ul class="nav">
            <div id="search-wrapper">
                <form id="search" method="get" action="http://www.google.com/custom">
                    <div class="search-box">
                        <i class="icon-search icon-white"></i>
                        <input type="text" id="tfq" class="textinput" name="q" size="21" maxlength="120" value="Google Search"/>
                    </div>
                </form>
            </div>
        </ul>
        -->
        
      </div>
    </div>
  </div>
</div>

<!-- CSS styles for standard search box with placeholder text-->
<style type="text/css">
    #search-wrapper {
        width:300px;
        height:40px;
        background-color:transparent;
        margin:0px auto 0;
        border:0px solid #ff0000;
        -moz-border-radius: 2px; /* FF1+ */
        -webkit-border-radius: 2px; /* Saf3-4 */
        border-radius: 2px; /* Opera 10.5, IE 9, Saf5, Chrome */
        position:relative;
    }

    #search {
        background-color:transparent;
        padding:0px;
        height:40px;
        overflow:hidden;
    }

    .search-box {
        width:250px;
        height:32px;
        background-color:transparent;
        margin:2px 7px;
        border:0px solid #cfcfcf;
        -moz-border-radius: 2px; /* FF1+ */
        -webkit-border-radius: 2px; /* Saf3-4 */
        border-radius: 2px; /* Opera 10.5, IE 9, Saf5, Chrome */
        position:relative;
    }

	.textinput{
		margin: 0;
		padding: 5px 15px;
		font-family: Arial, Helvetica, sans-serif;
		font-size:14px;
		color:#999999;
		border:1px solid #f00; border-right:0px;
		border-top-left-radius: 5px 5px;
		border-bottom-left-radius: 5px 5px;
	}
</style>

<!-- JAVASCRIPT to clear search text when the field is clicked -->
<script type="text/javascript">
window.onload = function(){
	//Get submit button
	var submitbutton = document.getElementById("tfq");
	//Add listener to submit button
	if(submitbutton.addEventListener){
		submitbutton.addEventListener("click", function() {
			if (submitbutton.value == 'Google Search'){//Customize this text string to whatever you want
				submitbutton.value = 'dcGOR R ';
			}
		});
	}
}
</script>

<script>
  (function() {
    var cx = '012094530736424854714:k8ieyz4ag4a';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

<div><gcse:search></gcse:search></div>

    <div class="container">
      <header>
        
      </header>
      
      <h2>Function to calculate pair-wise semantic similarity between domains based on a direct acyclic graph (DAG) with annotated data</h2>

<div class="row">
  <div class="span8">
  
    <h3>Description</h3>
    <p><code>dcDAGdomainSim</code> is supposed to calculate pair-wise semantic
similarity between domains based on a direct acyclic graph (DAG) with
annotated data. It first calculates semantic similarity between terms
and then derives semantic similarity between domains from terms-term
semantic similarity. Parallel computing is also supported for Linux or
Mac operating systems.</p>
  
    <h3>Usage</h3>
    <pre>dcDAGdomainSim(g, domains = NULL, method.domain = c("BM.average", "BM.max", "BM.complete", 
  "average", "max"), method.term = c("Resnik", "Lin", "Schlicker", "Jiang", "Pesquita"), 
      force = TRUE, fast = TRUE, parallel = TRUE, multicores = NULL, verbose = TRUE)</pre>
    
    <h3>Arguments</h3>
    <dl>
      <dt>g</dt>
      <dd>an object of class "igraph" or <code><a href='Onto-class.html'>Onto</a></code>. It must
contain a node attribute called 'annotations' for storing annotation
data (see example for howto)</dd>
      <dt>domains</dt>
      <dd>the domains between which pair-wise semantic similarity
is calculated. If NULL, all domains annotatable in the input dag will
be used for calcluation, which is very prohibitively expensive!</dd>
      <dt>method.domain</dt>
      <dd>the method used for how to derive semantic
similarity between domains from semantic similarity between terms. It
can be "average" for average similarity between any two terms (one from
domain 1, the other from domain 2), "max" for the maximum similarity
between any two terms, "BM.average" for best-matching (BM) based
average similarity (i.e. for each term of either domain, first
calculate maximum similarity to any term in the other domain, then take
average of maximum similarity; the final BM-based average similiary is
the pre-calculated average between two domains in pair), "BM.max" for
BM based maximum similarity (i.e. the same as "BM.average", but the
final BM-based maximum similiary is the maximum of the pre-calculated
average between two domains in pair), "BM.complete" for BM-based
complete-linkage similarity (inspired by complete-linkage concept: the
least of any maximum similarity between a term of one domain and a term
of the other domain). When comparing BM-based similarity between
domains, "BM.average" and "BM.max" are sensitive to the number of terms
invovled; instead, "BM.complete" is much robust in this aspect. By
default, it uses "BM.average".</dd>
      <dt>method.term</dt>
      <dd>the method used to measure semantic similarity
between terms. It can be "Resnik" for information content (IC) of most
informative common ancestor (MICA) (see
<a href = 'http://arxiv.org/pdf/cmp-lg/9511007.pdf'>http://arxiv.org/pdf/cmp-lg/9511007.pdf</a>), "Lin" for 2*IC at MICA
divided by the sum of IC at pairs of terms (see
<a href = 'http://webdocs.cs.ualberta.ca/~lindek/papers/sim.pdf'>http://webdocs.cs.ualberta.ca/~lindek/papers/sim.pdf</a>),
"Schlicker" for weighted version of 'Lin' by the 1-prob(MICA) (see
<a href = 'http://www.ncbi.nlm.nih.gov/pubmed/16776819'>http://www.ncbi.nlm.nih.gov/pubmed/16776819</a>), "Jiang" for 1 -
difference between the sum of IC at pairs of terms and 2*IC at MICA
(see <a href = 'http://arxiv.org/pdf/cmp-lg/9709008.pdf'>http://arxiv.org/pdf/cmp-lg/9709008.pdf</a>), "Pesquita" for
graph information content similarity related to Tanimoto-Jacard index
(ie. summed information content of common ancestors divided by summed
information content of all ancestors of term1 and term2 (see
<a href = 'http://www.ncbi.nlm.nih.gov/pubmed/18460186'>http://www.ncbi.nlm.nih.gov/pubmed/18460186</a>))</dd>
      <dt>force</dt>
      <dd>logical to indicate whether the only most specific terms
(for each domain) will be used. By default, it sets to true. It is
always advisable to use this since it is computationally fast but
without compromising accuracy (considering the fact that true-path-rule
has been applied when running <code><a href='dcDAGannotate.html'>dcDAGannotate</a></code>)</dd>
      <dt>fast</dt>
      <dd>logical to indicate whether a vectorised fast computation
is used. By default, it sets to true. It is always advisable to use
this vectorised fast computation; since the conventional computation is
just used for understanding scripts</dd>
      <dt>parallel</dt>
      <dd>logical to indicate whether parallel computation with
multicores is used. By default, it sets to true, but not necessarily
does so. Partly because parallel backends available will be
system-specific (now only Linux or Mac OS). Also, it will depend on
whether these two packages "foreach" and "doMC" have been installed. It
can be installed via:
<code>source("http://bioconductor.org/biocLite.R");
biocLite(c("foreach","doMC"))</code>. If not yet installed, this option will
be disabled</dd>
      <dt>multicores</dt>
      <dd>an integer to specify how many cores will be
registered as the multicore parallel backend to the 'foreach' package.
If NULL, it will use a half of cores available in a user's computer.
This option only works when parallel computation is enabled</dd>
      <dt>verbose</dt>
      <dd>logical to indicate whether the messages will be
displayed in the screen. By default, it sets to true for display</dd>
    </dl>
    <!-- 
    -->
    
    <!-- 
    <div class="Value">
    -->
      <h3>Value</h3>
      
      <p>an object of S4 class <code><a href='Dnetwork-class.html'>Dnetwork</a></code>. It is a weighted and
undirect graph, with following slots:
<ul>
<li><code>nodeInfo</code>: an object of S4 class, describing information on
nodes/domains
</li>
<li><code>adjMatrix</code>: an object of S4 class <code><a href='AdjData-class.html'>AdjData</a></code>,
containing symmetric adjacency data matrix for pair-wise semantic
similarity between domains
</li>
</ul></p>
      <p></p>
    <!-- 
    </div>
    -->
    <!-- 
    <div class="Note">
    -->
      <h3>Note</h3>
      
      <p>For the mode "shortest_paths", the induced subgraph is the most
concise, and thus informative for visualisation when there are many
nodes in query, while the mode "all_paths" results in the complete
subgraph.</p>
    <!-- 
    </div>
    -->
    
    <h3 id="examples">Examples</h3>
    <pre class="examples"><div class='input'># 1) Semantic similarity between SCOP domain superfamilies (sf)
## 1a) load onto.GOMF (as 'Onto' object)
g <- dcRDataLoader('onto.GOMF')
</div>
<strong class='message'>'onto.GOMF' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 1b) load SCOP superfamilies annotated by GOMF (as 'Anno' object)
Anno <- dcRDataLoader('SCOP.sf2GOMF')
</div>
<strong class='message'>'SCOP.sf2GOMF' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 1c) prepare for ontology appended with annotation information
dag <- dcDAGannotate(g, annotations=Anno, path.mode="shortest_paths",
verbose=FALSE)
## 1d) calculate pair-wise semantic similarity between 8 randomly chosen domains
alldomains <- unique(unlist(nInfo(dag)$annotations))
domains <- sample(alldomains,8)
dnetwork <- dcDAGdomainSim(g=dag, domains=domains,
method.domain="BM.average", method.term="Resnik", parallel=FALSE,
verbose=TRUE)
</div>
<strong class='message'>Start at 2015-07-23 12:48:32</strong>
<strong class='message'></strong>
<strong class='message'>First, extract all annotatable domains (2015-07-23 12:48:32)...</strong>
<strong class='message'>	there are 8 input domains amongst 1083 annotatable domains</strong>
<strong class='message'>Second, pre-compute semantic similarity between 93 terms (forced to be the most specific for each domain) using Resnik method (2015-07-23 12:48:39)...</strong>
<strong class='message'>Last, calculate pair-wise semantic similarity between 8 domains using BM.average method (2015-07-23 12:48:43)...</strong>
<strong class='message'>	1 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'>	2 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'>	3 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'>	4 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'>	5 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'>	6 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'>	7 out of 8 (2015-07-23 12:48:43)</strong>
<strong class='message'></strong>
<strong class='message'>Finish at 2015-07-23 12:48:43</strong>
<strong class='message'>Runtime in total is: 11 secs
</strong>
<div class='input'>dnetwork
</div>
<div class='output'>An object of S4 class 'Dnetwork'
@adjMatrix: a weighted symmetric matrix of 8 domains X 8 domains 
@nodeInfo (InfoDataFrame)
  nodeNames: 140741 81878 55608 ... 161070 56542 (8 total)
  nodeAttr: id
</div>
<div class='input'>## 1e) convert it to an object of class 'igraph'
ig <- dcConverter(dnetwork, from='Dnetwork', to='igraph')
</div>
<strong class='message'>Your input object 'dnetwork' of class 'Dnetwork' has been converted into an object of class 'igraph'.</strong>
<div class='input'>ig
</div>
<div class='output'>IGRAPH UNW- 8 28 -- 
+ attr: name (v/c), id (v/c), weight (e/n)
+ edges (vertex names):
 [1] 140741--81878  140741--55608  81878 --55608  140741--51658  81878 --51658 
 [6] 55608 --51658  140741--161084 81878 --161084 55608 --161084 51658 --161084
[11] 140741--54593  81878 --54593  55608 --54593  51658 --54593  161084--54593 
[16] 140741--161070 81878 --161070 55608 --161070 51658 --161070 161084--161070
[21] 54593 --161070 140741--56542  81878 --56542  55608 --56542  51658 --56542 
[26] 161084--56542  54593 --56542  161070--56542 
</div>
<div class='input'>## 1f) visualise the domain network
### extract edge weight (with 2-digit precision)
x <- signif(E(ig)$weight, digits=2)
### rescale into an interval [1,4] as edge width
edge.width <- 1 + (x-min(x))/(max(x)-min(x))*3
### do visualisation
dnet::visNet(g=ig, vertex.shape="sphere", edge.width=edge.width,
edge.label=x, edge.label.cex=0.7)
</div>
<a href="javascript:newWin('dcDAGdomainSim-29.png', 'dcDAGdomainSim-29.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:1px solid #EEEEEE;box-shadow:5px 5px 2px #C0C0C0;" src='dcDAGdomainSim-29.png', width="400" /></a>
<div class='input'>
###########################################################
# 2) Semantic similarity between Pfam domains (Pfam)
## 2a) load onto.GOMF (as 'Onto' object)
g <- dcRDataLoader('onto.GOMF')
</div>
<strong class='message'>'onto.GOMF' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 2b) load Pfam domains annotated by GOMF (as 'Anno' object)
Anno <- dcRDataLoader('Pfam2GOMF')
</div>
<strong class='message'>'Pfam2GOMF' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 2c) prepare for ontology appended with annotation information
dag <- dcDAGannotate(g, annotations=Anno, path.mode="shortest_paths",
verbose=FALSE)
## 2d) calculate pair-wise semantic similarity between 8 randomly chosen domains
alldomains <- unique(unlist(nInfo(dag)$annotations))
domains <- sample(alldomains,8)
dnetwork <- dcDAGdomainSim(g=dag, domains=domains,
method.domain="BM.average", method.term="Resnik", parallel=FALSE,
verbose=TRUE)
</div>
<strong class='message'>Start at 2015-07-23 12:49:02</strong>
<strong class='message'></strong>
<strong class='message'>First, extract all annotatable domains (2015-07-23 12:49:02)...</strong>
<strong class='message'>	there are 8 input domains amongst 3359 annotatable domains</strong>
<strong class='message'>Second, pre-compute semantic similarity between 9 terms (forced to be the most specific for each domain) using Resnik method (2015-07-23 12:49:02)...</strong>
<strong class='message'>Last, calculate pair-wise semantic similarity between 8 domains using BM.average method (2015-07-23 12:49:02)...</strong>
<strong class='message'>	1 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'>	2 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'>	3 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'>	4 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'>	5 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'>	6 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'>	7 out of 8 (2015-07-23 12:49:02)</strong>
<strong class='message'></strong>
<strong class='message'>Finish at 2015-07-23 12:49:02</strong>
<strong class='message'>Runtime in total is: 0 secs
</strong>
<div class='input'>dnetwork
</div>
<div class='output'>An object of S4 class 'Dnetwork'
@adjMatrix: a weighted symmetric matrix of 8 domains X 8 domains 
@nodeInfo (InfoDataFrame)
  nodeNames: PF01588 PF01040 PF03157 ... PF05301 PF08515 (8 total)
  nodeAttr: id
</div>
<div class='input'>## 2e) convert it to an object of class 'igraph'
ig <- dcConverter(dnetwork, from='Dnetwork', to='igraph')
</div>
<strong class='message'>Your input object 'dnetwork' of class 'Dnetwork' has been converted into an object of class 'igraph'.</strong>
<div class='input'>ig
</div>
<div class='output'>IGRAPH UNW- 8 10 -- 
+ attr: name (v/c), id (v/c), weight (e/n)
+ edges (vertex names):
 [1] PF01588--PF01040 PF02590--PF00933 PF01588--PF00909 PF01040--PF00909
 [5] PF03157--PF05301 PF01588--PF08515 PF01040--PF08515 PF03157--PF08515
 [9] PF00909--PF08515 PF05301--PF08515
</div>
<div class='input'>## 2f) visualise the domain network
### extract edge weight (with 2-digit precision)
x <- signif(E(ig)$weight, digits=2)
### rescale into an interval [1,4] as edge width
edge.width <- 1 + (x-min(x))/(max(x)-min(x))*3
### do visualisation
dnet::visNet(g=ig, vertex.shape="sphere", edge.width=edge.width,
edge.label=x, edge.label.cex=0.7)
</div>
<a href="javascript:newWin('dcDAGdomainSim-58.png', 'dcDAGdomainSim-58.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:1px solid #EEEEEE;box-shadow:5px 5px 2px #C0C0C0;" src='dcDAGdomainSim-58.png', width="400" /></a>
<div class='input'>
###########################################################
# 3) Semantic similarity between InterPro domains (InterPro)
## 3a) load onto.GOMF (as 'Onto' object)
g <- dcRDataLoader('onto.GOMF')
</div>
<strong class='message'>'onto.GOMF' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 3b) load InterPro domains annotated by GOMF (as 'Anno' object)
Anno <- dcRDataLoader('InterPro2GOMF')
</div>
<strong class='message'>'InterPro2GOMF' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 3c) prepare for ontology appended with annotation information
dag <- dcDAGannotate(g, annotations=Anno, path.mode="shortest_paths",
verbose=FALSE)
## 3d) calculate pair-wise semantic similarity between 8 randomly chosen domains
alldomains <- unique(unlist(nInfo(dag)$annotations))
domains <- sample(alldomains,8)
dnetwork <- dcDAGdomainSim(g=dag, domains=domains,
method.domain="BM.average", method.term="Resnik", parallel=FALSE,
verbose=TRUE)
</div>
<strong class='message'>Start at 2015-07-23 12:49:31</strong>
<strong class='message'></strong>
<strong class='message'>First, extract all annotatable domains (2015-07-23 12:49:31)...</strong>
<strong class='message'>	there are 8 input domains amongst 8899 annotatable domains</strong>
<strong class='message'>Second, pre-compute semantic similarity between 12 terms (forced to be the most specific for each domain) using Resnik method (2015-07-23 12:49:33)...</strong>
<strong class='message'>Last, calculate pair-wise semantic similarity between 8 domains using BM.average method (2015-07-23 12:49:33)...</strong>
<strong class='message'>	1 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'>	2 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'>	3 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'>	4 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'>	5 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'>	6 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'>	7 out of 8 (2015-07-23 12:49:33)</strong>
<strong class='message'></strong>
<strong class='message'>Finish at 2015-07-23 12:49:34</strong>
<strong class='message'>Runtime in total is: 3 secs
</strong>
<div class='input'>dnetwork
</div>
<div class='output'>An object of S4 class 'Dnetwork'
@adjMatrix: a weighted symmetric matrix of 8 domains X 8 domains 
@nodeInfo (InfoDataFrame)
  nodeNames: IPR011772 IPR013670 IPR001384 ... IPR004616 IPR004105 (8
    total)
  nodeAttr: id
</div>
<div class='input'>## 3e) convert it to an object of class 'igraph'
ig <- dcConverter(dnetwork, from='Dnetwork', to='igraph')
</div>
<strong class='message'>Your input object 'dnetwork' of class 'Dnetwork' has been converted into an object of class 'igraph'.</strong>
<div class='input'>ig
</div>
<div class='output'>IGRAPH UNW- 8 28 -- 
+ attr: name (v/c), id (v/c), weight (e/n)
+ edges (vertex names):
 [1] IPR011772--IPR013670 IPR011772--IPR001384 IPR013670--IPR001384
 [4] IPR011772--IPR003038 IPR013670--IPR003038 IPR001384--IPR003038
 [7] IPR011772--IPR006367 IPR013670--IPR006367 IPR001384--IPR006367
[10] IPR003038--IPR006367 IPR011772--IPR010401 IPR013670--IPR010401
[13] IPR001384--IPR010401 IPR003038--IPR010401 IPR006367--IPR010401
[16] IPR011772--IPR004616 IPR013670--IPR004616 IPR001384--IPR004616
[19] IPR003038--IPR004616 IPR006367--IPR004616 IPR010401--IPR004616
[22] IPR011772--IPR004105 IPR013670--IPR004105 IPR001384--IPR004105
+ ... omitted several edges
</div>
<div class='input'>## 3f) visualise the domain network
### extract edge weight (with 2-digit precision)
x <- signif(E(ig)$weight, digits=2)
### rescale into an interval [1,4] as edge width
edge.width <- 1 + (x-min(x))/(max(x)-min(x))*3
### do visualisation
dnet::visNet(g=ig, vertex.shape="sphere", edge.width=edge.width,
edge.label=x, edge.label.cex=0.7)
</div>
<a href="javascript:newWin('dcDAGdomainSim-87.png', 'dcDAGdomainSim-87.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:1px solid #EEEEEE;box-shadow:5px 5px 2px #C0C0C0;" src='dcDAGdomainSim-87.png', width="400" /></a>
<div class='input'>
###########################################################
# 4) Semantic similarity between Rfam RNA families (Rfam)
## 4a) load onto.GOBP (as 'Onto' object)
g <- dcRDataLoader('onto.GOBP')
</div>
<strong class='message'>'onto.GOBP' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 4b) load Rfam families annotated by GOBP (as 'Anno' object)
Anno <- dcRDataLoader('Rfam2GOBP')
</div>
<strong class='message'>'Rfam2GOBP' (from package 'dcGOR' version 1.0.5) has been loaded into the working environment</strong>
<div class='input'>## 4c) prepare for ontology appended with annotation information
dag <- dcDAGannotate(g, annotations=Anno, path.mode="shortest_paths",
verbose=FALSE)
## 4d) calculate pair-wise semantic similarity between 8 randomly chosen RNAs
alldomains <- unique(unlist(nInfo(dag)$annotations))
domains <- sample(alldomains,8)
dnetwork <- dcDAGdomainSim(g=dag, domains=domains,
method.domain="BM.average", method.term="Resnik", parallel=FALSE,
verbose=TRUE)
</div>
<strong class='message'>Start at 2015-07-23 12:50:17</strong>
<strong class='message'></strong>
<strong class='message'>First, extract all annotatable domains (2015-07-23 12:50:17)...</strong>
<strong class='message'>	there are 8 input domains amongst 1377 annotatable domains</strong>
<strong class='message'>Second, pre-compute semantic similarity between 4 terms (forced to be the most specific for each domain) using Resnik method (2015-07-23 12:50:17)...</strong>
<strong class='message'>Last, calculate pair-wise semantic similarity between 8 domains using BM.average method (2015-07-23 12:50:17)...</strong>
<strong class='message'>	1 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'>	2 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'>	3 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'>	4 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'>	5 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'>	6 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'>	7 out of 8 (2015-07-23 12:50:17)</strong>
<strong class='message'></strong>
<strong class='message'>Finish at 2015-07-23 12:50:17</strong>
<strong class='message'>Runtime in total is: 0 secs
</strong>
<div class='input'>dnetwork
</div>
<div class='output'>An object of S4 class 'Dnetwork'
@adjMatrix: a weighted symmetric matrix of 8 domains X 8 domains 
@nodeInfo (InfoDataFrame)
  nodeNames: RF00995 RF00031 RF00888 ... RF00612 RF00025 (8 total)
  nodeAttr: id
</div>
<div class='input'>## 4e) convert it to an object of class 'igraph'
ig <- dcConverter(dnetwork, from='Dnetwork', to='igraph')
</div>
<strong class='message'>Your input object 'dnetwork' of class 'Dnetwork' has been converted into an object of class 'igraph'.</strong>
<div class='input'>ig
</div>
<div class='output'>IGRAPH UNW- 8 15 -- 
+ attr: name (v/c), id (v/c), weight (e/n)
+ edges (vertex names):
 [1] RF00995--RF00888 RF00995--RF01178 RF00888--RF01178 RF00995--RF00096
 [5] RF00888--RF00096 RF01178--RF00096 RF00995--RF01536 RF00888--RF01536
 [9] RF01178--RF01536 RF00096--RF01536 RF00995--RF00612 RF00888--RF00612
[13] RF01178--RF00612 RF00096--RF00612 RF01536--RF00612
</div>
<div class='input'>## 4f) visualise the domain network
### extract edge weight (with 2-digit precision)
x <- signif(E(ig)$weight, digits=2)
### rescale into an interval [1,4] as edge width
edge.width <- 1 + (x-min(x))/(max(x)-min(x))*3
### do visualisation
dnet::visNet(g=ig, vertex.shape="sphere", edge.width=edge.width,
edge.label=x, edge.label.cex=0.7)
</div>
<a href="javascript:newWin('dcDAGdomainSim-116.png', 'dcDAGdomainSim-116.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:1px solid #EEEEEE;box-shadow:5px 5px 2px #C0C0C0;" src='dcDAGdomainSim-116.png', width="400" /></a>
<div class='input'>
###########################################################
# 5) Advanced usage: customised data for ontology and annotations
# 5a) customise ontology
g <-
dcBuildOnto(relations.file="http://dcgor.r-forge.r-project.org/data/onto/igraph_GOMF_edges.txt",
nodes.file="http://dcgor.r-forge.r-project.org/data/onto/igraph_GOMF_nodes.txt",
output.file="ontology.RData")
</div>
<strong class='message'>An object of S4 class 'Onto' has been built and saved into '/Users/hfang/Sites/SUPERFAMILY/dcGO/dcGOR/ontology.RData'.</strong>
<div class='input'># 5b) customise Anno
Anno <-
dcBuildAnno(domain_info.file="http://dcgor.r-forge.r-project.org/data/InterPro/InterPro.txt",
term_info.file="http://dcgor.r-forge.r-project.org/data/InterPro/GO.txt",
association.file="http://dcgor.r-forge.r-project.org/data/InterPro/Domain2GOMF.txt",
output.file="annotations.RData")
</div>
<strong class='message'>An object of S4 class 'Anno' has been built and saved into '/Users/hfang/Sites/SUPERFAMILY/dcGO/dcGOR/annotations.RData'.</strong>
<div class='input'>## 5c) prepare for ontology appended with annotation information
dag <- dcDAGannotate(g, annotations=Anno, path.mode="shortest_paths",
verbose=FALSE)
## 5d) calculate pair-wise semantic similarity between 8 randomly chosen domains
alldomains <- unique(unlist(nInfo(dag)$annotations))
domains <- sample(alldomains,8)
dnetwork <- dcDAGdomainSim(g=dag, domains=domains,
method.domain="BM.average", method.term="Resnik", parallel=FALSE,
verbose=TRUE)
</div>
<strong class='message'>Start at 2015-07-23 12:50:47</strong>
<strong class='message'></strong>
<strong class='message'>First, extract all annotatable domains (2015-07-23 12:50:47)...</strong>
<strong class='message'>	there are 8 input domains amongst 8899 annotatable domains</strong>
<strong class='message'>Second, pre-compute semantic similarity between 10 terms (forced to be the most specific for each domain) using Resnik method (2015-07-23 12:50:48)...</strong>
<strong class='message'>Last, calculate pair-wise semantic similarity between 8 domains using BM.average method (2015-07-23 12:50:49)...</strong>
<strong class='message'>	1 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'>	2 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'>	3 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'>	4 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'>	5 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'>	6 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'>	7 out of 8 (2015-07-23 12:50:49)</strong>
<strong class='message'></strong>
<strong class='message'>Finish at 2015-07-23 12:50:50</strong>
<strong class='message'>Runtime in total is: 3 secs
</strong>
<div class='input'>dnetwork
</div>
<div class='output'>An object of S4 class 'Dnetwork'
@adjMatrix: a weighted symmetric matrix of 8 domains X 8 domains 
@nodeInfo (InfoDataFrame)
  nodeNames: IPR028700 IPR020797 IPR027542 ... IPR010222 IPR002611 (8
    total)
  nodeAttr: id
</div>
<div class='input'>## 5e) convert it to an object of class 'igraph'
ig <- dcConverter(dnetwork, from='Dnetwork', to='igraph')
</div>
<strong class='message'>Your input object 'dnetwork' of class 'Dnetwork' has been converted into an object of class 'igraph'.</strong>
<div class='input'>ig
</div>
<div class='output'>IGRAPH UNW- 8 23 -- 
+ attr: name (v/c), id (v/c), weight (e/n)
+ edges (vertex names):
 [1] IPR028700--IPR020797 IPR028700--IPR027542 IPR020797--IPR027542
 [4] IPR028700--IPR008576 IPR020797--IPR008576 IPR027542--IPR008576
 [7] IPR028700--IPR008977 IPR020797--IPR008977 IPR027542--IPR008977
[10] IPR008576--IPR008977 IPR028700--IPR000536 IPR020797--IPR000536
[13] IPR027542--IPR000536 IPR008576--IPR000536 IPR008977--IPR000536
[16] IPR028700--IPR010222 IPR020797--IPR010222 IPR027542--IPR010222
[19] IPR008576--IPR010222 IPR008977--IPR010222 IPR000536--IPR010222
[22] IPR027542--IPR002611 IPR010222--IPR002611
</div>
<div class='input'>## 5f) visualise the domain network
### extract edge weight (with 2-digit precision)
x <- signif(E(ig)$weight, digits=2)
### rescale into an interval [1,4] as edge width
edge.width <- 1 + (x-min(x))/(max(x)-min(x))*3
### do visualisation
dnet::visNet(g=ig, vertex.shape="sphere", edge.width=edge.width,
edge.label=x, edge.label.cex=0.7)
</div>
<a href="javascript:newWin('dcDAGdomainSim-145.png', 'dcDAGdomainSim-145.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:1px solid #EEEEEE;box-shadow:5px 5px 2px #C0C0C0;" src='dcDAGdomainSim-145.png', width="400" /></a></pre>
  </div>
  
  <div class="span4">
    
    <!-- 
    <ul>
      <li>dcDAGdomainSim</li>
    </ul>
    <ul>
      
    </ul> 
    -->
    
    <h2>Source code</h2>
    <a href="javascript:newWin('R/dcDAGdomainSim.r', 'R/dcDAGdomainSim.r', '1200', '1200')" title="Click to view"><B><code>dcDAGdomainSim.r</code></B></a>
    
    <h2>Source man</h2>
    <a href="javascript:newWin('man/dcDAGdomainSim.txt', 'man/dcDAGdomainSim.txt', '1200', '1200')" title="Click to view"><B><code>dcDAGdomainSim.Rd</code></B></a>
    
    <a href="javascript:newWin('man/dcDAGdomainSim.pdf', 'man/dcDAGdomainSim.pdf', '1200', '1200')" title="Click to view"><B><code>dcDAGdomainSim.pdf</code></B></a>
    
    <h2>See also</h2>
    
<code><a href='dcRDataLoader.html'>dcRDataLoader</a></code>, <code><a href='dcDAGannotate.html'>dcDAGannotate</a></code>,
<code><a href='dcConverter.html'>dcConverter</a></code>, <code><a href='Dnetwork-class.html'>Dnetwork-class</a></code>

    <!--

    <h2>Citation</h2>
    <p>Fang H. (2014) <B>dcGOR: an R package for analysing ontologies and protein domain annotations</B>. <I>PLoS Computational Biology</I> 10(10):e1003929. <a href="http://dx.doi.org/10.1371/journal.pcbi.1003929">doi:10.1371/journal.pcbi.1003929</a>, PMID: <a href="http://www.ncbi.nlm.nih.gov/pubmed/?term=25356683">25356683</a></p>

<p>You may also cite the package as:</p>

<ul>
<li><code>database</code></li>
</ul>

<p>Fang H, Gough J. (2013) <B>dcGO: database of domain-centric ontologies on functions, phenotypes, diseases and more</B>. <I>Nucleic Acids Research</I> 41(Database issue):D536-44. <a href="http://dx.doi.org/10.1093/nar/gks1080">doi:10.1093/nar/gks1080</a>, PMID: <a href="http://www.ncbi.nlm.nih.gov/pubmed/?term=23161684">23161684</a></p>

<ul>
<li><code>web link/URL</code></li>
</ul>

<p>Package &ldquo;dcGOR&rdquo; [<a href="http://cran.r-project.org/package=dcGOR">http://cran.r-project.org/package=dcGOR</a>]</p>

    
    
    <h2>URL</h2>
    <ul>
      <li><a href="http://supfam.org/dcGOR">http://supfam.org/dcGOR</a></li>
      <li><a href=" http://cran.r-project.org/package=dcGOR"> http://cran.r-project.org/package=dcGOR</a></li>
      <li><a href=" http://
dcgor.r-forge.r-project.org"> http://
dcgor.r-forge.r-project.org</a></li>
      <li><a href=" https://github.com/hfang-bristol/dcGOR"> https://github.com/hfang-bristol/dcGOR</a></li>
    </ul>
    
    
    -->
    
  </div>
  
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>

<p><a href="mailto:hfang@well.ox.ac.uk" title="Hai Fang">Hai Fang</a></p>
<p><a href="http://bioinformatics.bris.ac.uk">Computational Genomics Group, Department of Computer Science, University of Bristol, UK</a></p>


      </footer>
    </div>
  </body>
</html>